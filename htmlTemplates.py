css = '''
<style>
.chat-message {
    padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem; display: flex
}
.chat-message.user {
    background-color: #2b313e
}
.chat-message.bot {
    background-color: #475063
}
.chat-message .avatar {
  width: 20%;
}
.chat-message .avatar img {
  max-width: 78px;
  max-height: 78px;
  border-radius: 50%;
  object-fit: cover;
}
.chat-message .message {
  width: 80%;
  padding: 0 1.5rem;
  color: #fff;
}
'''

bot_template = '''
<div class="chat-message bot">
    <div class="avatar">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAMAAABC4vDmAAAA1VBMVEX////O4OBm3NwCMUte0NEhS2EALUgAKEUAJkQAADAAI0G07e4AFDpj2NlTuLwHJUNr5uaf09YpaHUscn8AHT690NJbyMsqRFmE4uO3yMpSZ3Z9kpp1go/3+fsAGDsLNk/X6eiRnKWdpa5DWGqNpazP1dkADTZofInu8PHC8fJNrrOrwcU1folBlJyEkp1OWGre4uU6iJEjXGyftrwUP1a1u8FbZXVdcX9DS182TWAAACsAACU5XG1Qi5VLdYKFtbub6+sAAB0lOlKP19nn+PZwpq5jq7KwwEZNAAAMwElEQVR4nO2ce3vaOhKHA4aRrBjiBQEFjM3Vdg0m4EuIs+3pWban3/8j7chck0ACxur5Y8+vz9M2gK03M6PR6GLu7v7RP/r71Fu4vWxXuouMF36mxUpVVTJ0r78yTl5UdRTnj3Q3sThQQszkaqq5RggjzBzkztT7N8C377My4aMrrxxqYP3h1yxQc7fVnJvf7++/VMqEXndvN6HWj6/3uqcAz5nJfaTR/Ve8d5Xy+VVXTmz6/evXr3/qM/qyyBdq8czqAqpYKnPj9Ed6pztYrNJf9wLKM9V2vlBoqUD/875YbFpvLeVO4gn+035+fByt5oPJG3NMVOJ/uf+zqPtcneQLdedQzdOLuj7j7CimFvE8MVX7Yfr16zeTEEoZV1VYDSeHLrqwSFDCK0sRqDkz3U3+A5bfrM44rPcNxkbL5NjdNcVrNr1yFEWgaZziC/A42BvM4KTs4dtgn/H7DRpwbMwklO18sFhraBmrHCwRCVVCIZs/CyKRljBbbujdRxO4xsF8ypB3P1MMXFHs0T5YpxpnCFRFmkqluFVFkFX9eoT42jaJu4YGCmiGBCZxcwqbZhZD9+d/m8slAiFOBSmWs3q9Plv6XhUBK2gxP1DQscnGrK5CkpzTwV5DDuLWvSG81ErCXxW9KKxCNZMxKqLc1EwlmHlNHS3m1RVKNCOFiei148CVUIsnDhyhSpgfZmWFM4KhzQSV+AvNw0hU84rFUtMLGJjPk98AFYtGZ6WSXvECmwLjrdGqOw6nQuG463QSgj3StpbCXF6ZEnUgHWpAgJerpaLuBWghE5xx2G6g2kLiP43p2Eg0BjxaVvRKtW4qpiEXyupoADOMpWaA3csahY29CoXC4YfQWaNPAZ1Y8S3go5ZMKIUA8TGYfMBM1EGk9gbnWI301bBrpaGHXo4IXiUTCiKvUizVOLYSNt4DHYE1pg4QGuHY1CwTRR6UQQlUi3qzzEHpfoC04wpH2Pt87KQBhesL1suEcW55Rb1qYTSFnyBtsKaOCWyJtsJLrqvCLtVEAyKYOLDO9HOkjbG6OL7MhHFBHUpgchOSugI7U6d9EVOKNcbkgLbyuELzrqZQT5zUMU0zIM6lSClVaIHm67rPyGPuYdV+gXKpWAkoX7UvZ0pt9QBaVa/Uri3uP5f7CGZV1J1kdBWToOpyKDeLovLM2YEDTme67tnQCq9jElQOYTUclzTSyXXy3qMkwgEWS9rxtUxINU1AFPgBpblOZ+Ym9/XikjHneiakCk2ISsWqQpMcTeW2wMSeB6Q1zQJVaKwYxXRSI3lG1ZChofQao91MTIXCtEWskl7SchwC3ScWNYtNCq2MTIWGQUSywjEwN1MtNIJDxZLwbkYmNBWAVcS8znJbDzI4VHGGS5J2ZqiCw1naAVs5pfUYFCWo1wnJ1PW2Chmpl5ZloE4OaaEXv9gKAMHqcR1mZyo0RjibYADAVDO+NTEYWBHZVjliGOY3eA/9RxVFY+UI5xTmjYsKK5NYy5KYkGM4HHtvN4H5QK+LiXCNJSLOp0tLLBucW5hiLoYXwYRZ6gDVnxodsNVPxBNnXOjvrmm3WH1zJ1GS3bD86T5S7HfFt1CNlcIIRv9nAorTiyOo2vZWVUJvqK0mJiYosZJSOYLqh8AUxYpQ1rb19Ifo+JWdiLrLbY0NlLhXcUbM7Ek0tiFdFGiWDlD9sTCSVRaKdlDlnaJ3BuRO/wiqIu5V9MDO7j+DW6W3UDjiHzC2CBDtqd6aSlFso39kqRSqqZxbzb0ISmm+hUrIEcbefx9AKSyUDNXvmscYO/8pH/hPIR3ZUPteh1GNDLuGD/7beZQysg+rqVyoqb1tkwXLZRCdCvWNdZTaLAByFOvyoPpdvo3sqv5F16sH/0WvoAjOMip6KdhQgSUVqrCiaTNaU58FNV+v7kPoVajjzMcLyrVmMdi8zeW6r5O2wpZ6zYzK1kxf7sP52H9WsfoCGFXN5sbbWuN3QFWrDNA21pdf0ftUpZBATx2H7Jt+Yf8OKNqsmgpgT6v8OiSmAxSt62knZDN9w2z/Fvd5JQswtiPdj0Rgg9BRqirrddEhcAq0yWqSLbVK+xP6x+c4afa+1NLeZgkdpSqoVoBRHujeBkqTaqm+wzatYMdbLkv6dySxaOeut9NdLEKNBKWiP/N2nRO43Dw13o4ypN7U9eYsSr1lHV0yiET/I2WvqBf9bS8gidw8VVB3A5pmmubGY6AeNoPcThrqithM0/j2s9pY8tg3ospB22xJV/vpSXwoFfYjM6wbkkuXKTmCirbZks23VO3oRKlAu++rBHYLlPWunjL4UXu7gUV7ihc9dzLY9cBjJrK57hiqdIul5qZSfQtVSNi+PTiMdpA8P6/3WcE6mArotPAWqqqY2dc/Y5v4+luoRudgq6NST+TP16XCxnfr6fsa3Sc31OgLiwaVt7OZQsNR96Vemjb3I421185MdjJ9P5upBITcsHs7Z+bs/byvP12t003Qj8W4koz3k9HGYd43M9ktq9cuAF9WdHFKQkzbdy30C+2xsep8ImcwPUyQN1DiRqWZCQ83bXNPOCHWzPOWOOzDaFrIrkYLoO553kwhhN+4njdJbGCaxiHN4qvw6He/GkphpmYyjLOb1xjdOTE5CqkIoTDq7p1Y6F8DiFAEb2OaZJDLYt4kjie9ubnudigDribdMF3mcVT7ikXQ9prPF+04znUrZGgr00K4Uk38hZmVjDodisPu8FKmfgh2/jt+E42m/XvcSRTKRUZQxIzuYkuN6Q0rLee0WLOUoN9vTMfd1aglpprm5f5z2Dr/4y7uE2u9aqWdMDa6eL0Y05SMo0oDpoXH3a1fGI8vThD9UMtvXf9ImEdHrxmuSAn90c0Z87RWjI0zps7+mLGVDCZxBiDJuOfQaN2yyvmhBpy0Pgc4pRbhMo4lCPU6jF/e3/bqN0aMP0k6+y12SBmJwivjqh+uCctr8+ok1ZMG5mp6ebfrF6YrEzQZKeqgnqESZq3Cy7D6/XBlMaIa0ny31eSRMWIrDlYKHyQqfKfRDh3FJpQ/Sup3x3LjjsqBmeuO0w2nov23wilr2HVGkSkKnd3BWOmazJ8tztOzncRqjTorx+imMpxVZ9SyiDj0yThfP89/g5X26k2GRsI0m2MJg3+YKClNrFCRE+tTzm2bjIzhRHYsvedyF5Ph3OkkrXSGR9ItXSyaIek483jiZn2cJRct4gSU8UZh+I3AUNYx4cuRjBbOKUh7d8KzQxSuPP3OSHond64ynEwo6n7wGeFECjPT6O+z1uKZg5aMu4x3NxmrP7XYKlxxwtYyHii6RG0c1BKxdMjBStdW+o2EUMz27Q4DTUah+bmwFGUrMTXtd01YdxsFcdqUpZt7hYEJEh5z+lwLLNyMbSShw0jrGSc4zNrufo/hpn3+jOo9cebsx76uZTKRNPfHYfohg1sWobIpxpx9NAI3ut/KI+NoWaZvmDestmaUBevGq2H458+fr8fljqQJzDv14uEglUGg1f1YHaCdzYcHsURHusZD+ngFSqwkfLK8KMbBzYcZfVjJwlokGmifHbs5KZvwBzl90U0Ysf76Vxb9+MbIg5QAG9jkj/us+osxKbOsNYHMTPf3fzBFgqncB5bdUPf3P3I9DrvT4oHPvmTXLylQLqHbLYMs0j2iSYDqWTTIDlX0mYyHHO4iiG6AWjJLRv5MCNwANeMtGVAjAh80qgt98H6dS3kY0mHQPNtm0y8r5Vn17PuVgOf/iMqd2Lwl56B03zJxCOZ0WTnzCYSSktGH2u4k6jv5OHVfP6+B8HNZo3L28fPbhLWmd8Z3Cs6LXSy2WuKA/smPlCI5dah4Sv1ki+IZn6E47yKO0Aal09xw0xbtWS1ezkFRkmzO4NzNuXI62Jsmk7I+vFDp8rRvbLI9GHQXszMurmqSoCidnWxQP4Iy4bSlPJtJKT3diNVPQ5XJepFS3a3EwyynPuKbkqBGrHY6DfkmcdLMONRI7TT3kjMp5bD7xIPTUJWA8FE8iQ0O5un8ih30trMI54QT9TP9HRMVpdyijPAzaUqvMyJnldjgpwMG2yzVLXFMIDiX8vWAWnLWQOdnoYSxPN+vls7VCXpE1lKYxBPb56E+lm6RliQoRs/XJp9I2tPtMWGe+JKNDMKhT852rfhqED8jVBVuOPD2oSZKZigPNEn7tZM1q2eDqngSvuhpI7cFkBGqTlRZC1Rzk9UzMfmUrWTtH7lYhdeqlWvVXDLI7wnWdxpShVjl+nUKLKLQm57o+5jJhnRrj16jzZlQ7sj6Uro1gJZNTJHV+2KKEZVNvryMzthMvzrMhYoesI4cqAkAPGQTUaR8MYiQ8UIgo7SRrOMJvWHSyig539P1f6//ATGMweHHnb84AAAAAElFTkSuQmCC" style="max-height: 78px; max-width: 78px; border-radius: 50%; object-fit: cover;">
    </div>
    <div class="message">{{MSG}}</div>
</div>
'''

user_template = '''
<div class="chat-message user">
    <div class="avatar">
        <img src="data:image/png;base64,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">
    </div>    
    <div class="message">{{MSG}}</div>
</div>
'''